<%= form_with model: latex_template, local: true, class: "auth-form" do |f| %>
  <% if latex_template.errors.any? %>
    <div class="error-messages">
      <h3><%= pluralize(latex_template.errors.count, "Fehler") %> verhinderten das Speichern:</h3>
      <ul>
        <% latex_template.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :title, "Titel" %>
    <%= f.text_field :title %>
  </div>

  <div class="form-group">
    <%= f.label :visibility, "Sichtbarkeit" %>
    <%= f.select :visibility,
                 options_for_select(LatexTemplate.visibilities.keys, latex_template.visibility),
                 {}, {} %>
  </div>

  <div class="form-group">
    <%= f.label :description, "Kurzbeschreibung" %>
    <%= f.text_area :description, rows: 4 %>
  </div>

  <div class="form-group">
    <%= f.label :body, "LaTeX-Body" %>
    <%= f.text_area :body, rows: 20 %>
  </div>

  <p class="auth-footer">
    Platzhalter: <code>{{ first_name }}</code>, <code>{{ last_name }}</code>, <code>{{ date }}</code>.
    Optionales Bild:
    <code>{% raw %}{% if image_path %}{% endraw %}\includegraphics[width=\textwidth]{ {% raw %}{{ image_path }}{% endraw %} } {% raw %}{% endif %}{% endraw %}</code>
  </p>

  <%= f.submit (latex_template.persisted? ? "Speichern" : "Template anlegen"), class: "btn-primary" %>
<% end %>
